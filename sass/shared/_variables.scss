@use 'sass:math';

// tied to the comments wrapper (50% reversed, linear)
$c1: var(--comments-percent);
$c2: var(--comments-percent-reversed);

// tied to the engager (50% reversed, linear)
$n1: var(--engager-percent);
$n2: var(--engager-percent-reversed);

// generated by the snippet
$f1: var(--percent);
$f2: var(--percent-reversed);


// shortcuts for c1 & c2 (comments)
@function txc1($from, $to, $scaler: 1) {
  @return tc1($from, $to, px, $scaler)
}

@function txc2($from, $to, $scaler: 1) {
  @return tc2($from, $to, px, $scaler)
}

@function tpc1($from, $to, $scaler: 1) {
  @return tc1($from, $to, '%', $scaler)
}

@function tpc2($from, $to, $scaler: 1) {
  @return tc2($from, $to, '%', $scaler)
}

@function tdc1($from, $to, $scaler: 1) {
  @return tc1($from, $to, deg, $scaler)
}

@function tdc2($from, $to, $scaler: 1) {
  @return tc2($from, $to, deg, $scaler)
}

// shortcuts for n1 & n2 (engager)
@function txn1($from, $to, $scaler: 1) {
  @return tn1($from, $to, px, $scaler)
}

@function txn2($from, $to, $scaler: 1) {
  @return tn2($from, $to, px, $scaler)
}

@function tpn1($from, $to, $scaler: 1) {
  @return tn1($from, $to, '%', $scaler)
}

@function tpn2($from, $to, $scaler: 1) {
  @return tn2($from, $to, '%', $scaler)
}

@function tdn1($from, $to, $scaler: 1) {
  @return tn1($from, $to, deg, $scaler)
}

@function tdn2($from, $to, $scaler: 1) {
  @return tn2($from, $to, deg, $scaler)
}

// shortcuts for f1 & f2 (snippet)
@function txf1($from, $to, $scaler: 1) {
  @return tf1($from, $to, px, $scaler)
}

@function txf2($from, $to, $scaler: 1) {
  @return tf2($from, $to, px, $scaler)
}

@function tpf1($from, $to, $scaler: 1) {
  @return tf1($from, $to, '%', $scaler)
}

@function tpf2($from, $to, $scaler: 1) {
  @return tf2($from, $to, '%', $scaler)
}

@function tdf1($from, $to, $scaler: 1) {
  @return tf1($from, $to, deg, $scaler)
}

@function tdf2($from, $to, $scaler: 1) {
  @return tf2($from, $to, deg, $scaler)
}


// transition c1 & c2 (comments)
@function tc1($from, $to, $unit: '', $scaler: 1) {
  @return trans($from, $to, $unit, $c1, $scaler)
}

@function tc2($from, $to, $unit: '', $scaler: 1) {
  @return trans($from, $to, $unit, $c2, $scaler)
}

// transition n1 & n2 (engager)
@function tn1($from, $to, $unit: '', $scaler: 1) {
  @return trans($from, $to, $unit, $n1, $scaler)
}

@function tn2($from, $to, $unit: '', $scaler: 1) {
  @return trans($from, $to, $unit, $n2, $scaler)
}

// transition f1 & f2 (snippet)
@function tf1($from, $to, $unit: '', $scaler: 1) {
  @return trans($from, $to, $unit, $f1, $scaler)
}

@function tf2($from, $to, $unit: '', $scaler: 1) {
  @return trans($from, $to, $unit, $f2, $scaler)
}

// the transition function
@function trans($from, $to, $unit, $variable, $scaler){
  $distance: $to - $from;

  @if $to > $from {
    @return calc((#{$from} + Min(#{$distance} * #{$variable} * #{$scaler}, #{$distance}) ) * 1#{$unit});
  } @else {
    @return calc((#{$from} + Max(#{$distance} * #{$variable} * #{$scaler}, #{$distance}) ) * 1#{$unit});
  }
}